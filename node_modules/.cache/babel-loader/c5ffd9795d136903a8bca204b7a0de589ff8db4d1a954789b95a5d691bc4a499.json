{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toHaveFormValues = toHaveFormValues;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _isEqualWith = _interopRequireDefault(require(\"lodash/isEqualWith\"));\nvar _uniq = _interopRequireDefault(require(\"lodash/uniq\"));\nvar _css = _interopRequireDefault(require(\"css.escape\"));\nvar _utils = require(\"./utils\");\n\n// Returns the combined value of several elements that have the same name\n// e.g. radio buttons or groups of checkboxes\nfunction getMultiElementValue(elements) {\n  const types = (0, _uniq.default)(elements.map(element => element.type));\n  if (types.length !== 1) {\n    throw new Error('Multiple form elements with the same name must be of the same type');\n  }\n  switch (types[0]) {\n    case 'radio':\n      {\n        const theChosenOne = elements.find(radio => radio.checked);\n        return theChosenOne ? theChosenOne.value : undefined;\n      }\n    case 'checkbox':\n      return elements.filter(checkbox => checkbox.checked).map(checkbox => checkbox.value);\n    default:\n      // NOTE: Not even sure this is a valid use case, but just in case...\n      return elements.map(element => element.value);\n  }\n}\nfunction getFormValue(container, name) {\n  const elements = [...container.querySelectorAll(`[name=\"${(0, _css.default)(name)}\"]`)];\n  /* istanbul ignore if */\n\n  if (elements.length === 0) {\n    return undefined; // shouldn't happen, but just in case\n  }\n\n  switch (elements.length) {\n    case 1:\n      return (0, _utils.getSingleElementValue)(elements[0]);\n    default:\n      return getMultiElementValue(elements);\n  }\n} // Strips the `[]` suffix off a form value name\n\nfunction getPureName(name) {\n  return /\\[\\]$/.test(name) ? name.slice(0, -2) : name;\n}\nfunction getAllFormValues(container) {\n  const names = Array.from(container.elements).map(element => element.name);\n  return names.reduce((obj, name) => (0, _extends2.default)({}, obj, {\n    [getPureName(name)]: getFormValue(container, name)\n  }), {});\n}\nfunction toHaveFormValues(formElement, expectedValues) {\n  (0, _utils.checkHtmlElement)(formElement, toHaveFormValues, this);\n  if (!formElement.elements) {\n    // TODO: Change condition to use instanceof against the appropriate element classes instead\n    throw new Error('toHaveFormValues must be called on a form or a fieldset');\n  }\n  const formValues = getAllFormValues(formElement);\n  return {\n    pass: Object.entries(expectedValues).every(_ref => {\n      let [name, expectedValue] = _ref;\n      return (0, _isEqualWith.default)(formValues[name], expectedValue, _utils.compareArraysAsSet);\n    }),\n    message: () => {\n      const to = this.isNot ? 'not to' : 'to';\n      const matcher = `${this.isNot ? '.not' : ''}.toHaveFormValues`;\n      const commonKeyValues = Object.keys(formValues).filter(key => expectedValues.hasOwnProperty(key)).reduce((obj, key) => (0, _extends2.default)({}, obj, {\n        [key]: formValues[key]\n      }), {});\n      return [this.utils.matcherHint(matcher, 'element', ''), `Expected the element ${to} have form values`, this.utils.diff(expectedValues, commonKeyValues)].join('\\n\\n');\n    }\n  };\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","toHaveFormValues","_extends2","_isEqualWith","_uniq","_css","_utils","getMultiElementValue","elements","types","default","map","element","type","length","Error","theChosenOne","find","radio","checked","undefined","filter","checkbox","getFormValue","container","name","querySelectorAll","getSingleElementValue","getPureName","test","slice","getAllFormValues","names","Array","from","reduce","obj","formElement","expectedValues","checkHtmlElement","formValues","pass","entries","every","_ref","expectedValue","compareArraysAsSet","message","to","isNot","matcher","commonKeyValues","keys","key","hasOwnProperty","utils","matcherHint","diff","join"],"sources":["C:/Users/tung0/OneDrive/Documents/typing-speed-app/node_modules/@testing-library/jest-dom/dist/to-have-form-values.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toHaveFormValues = toHaveFormValues;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _isEqualWith = _interopRequireDefault(require(\"lodash/isEqualWith\"));\n\nvar _uniq = _interopRequireDefault(require(\"lodash/uniq\"));\n\nvar _css = _interopRequireDefault(require(\"css.escape\"));\n\nvar _utils = require(\"./utils\");\n\n// Returns the combined value of several elements that have the same name\n// e.g. radio buttons or groups of checkboxes\nfunction getMultiElementValue(elements) {\n  const types = (0, _uniq.default)(elements.map(element => element.type));\n\n  if (types.length !== 1) {\n    throw new Error('Multiple form elements with the same name must be of the same type');\n  }\n\n  switch (types[0]) {\n    case 'radio':\n      {\n        const theChosenOne = elements.find(radio => radio.checked);\n        return theChosenOne ? theChosenOne.value : undefined;\n      }\n\n    case 'checkbox':\n      return elements.filter(checkbox => checkbox.checked).map(checkbox => checkbox.value);\n\n    default:\n      // NOTE: Not even sure this is a valid use case, but just in case...\n      return elements.map(element => element.value);\n  }\n}\n\nfunction getFormValue(container, name) {\n  const elements = [...container.querySelectorAll(`[name=\"${(0, _css.default)(name)}\"]`)];\n  /* istanbul ignore if */\n\n  if (elements.length === 0) {\n    return undefined; // shouldn't happen, but just in case\n  }\n\n  switch (elements.length) {\n    case 1:\n      return (0, _utils.getSingleElementValue)(elements[0]);\n\n    default:\n      return getMultiElementValue(elements);\n  }\n} // Strips the `[]` suffix off a form value name\n\n\nfunction getPureName(name) {\n  return /\\[\\]$/.test(name) ? name.slice(0, -2) : name;\n}\n\nfunction getAllFormValues(container) {\n  const names = Array.from(container.elements).map(element => element.name);\n  return names.reduce((obj, name) => (0, _extends2.default)({}, obj, {\n    [getPureName(name)]: getFormValue(container, name)\n  }), {});\n}\n\nfunction toHaveFormValues(formElement, expectedValues) {\n  (0, _utils.checkHtmlElement)(formElement, toHaveFormValues, this);\n\n  if (!formElement.elements) {\n    // TODO: Change condition to use instanceof against the appropriate element classes instead\n    throw new Error('toHaveFormValues must be called on a form or a fieldset');\n  }\n\n  const formValues = getAllFormValues(formElement);\n  return {\n    pass: Object.entries(expectedValues).every(([name, expectedValue]) => (0, _isEqualWith.default)(formValues[name], expectedValue, _utils.compareArraysAsSet)),\n    message: () => {\n      const to = this.isNot ? 'not to' : 'to';\n      const matcher = `${this.isNot ? '.not' : ''}.toHaveFormValues`;\n      const commonKeyValues = Object.keys(formValues).filter(key => expectedValues.hasOwnProperty(key)).reduce((obj, key) => (0, _extends2.default)({}, obj, {\n        [key]: formValues[key]\n      }), {});\n      return [this.utils.matcherHint(matcher, 'element', ''), `Expected the element ${to} have form values`, this.utils.diff(expectedValues, commonKeyValues)].join('\\n\\n');\n    }\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}