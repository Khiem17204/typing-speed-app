{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tung0\\\\OneDrive\\\\Documents\\\\typing-speed-app\\\\src\\\\components\\\\body\\\\Typing.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { generate } from 'random-words';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Typing(_ref) {\n  _s();\n  let {\n    numWords\n  } = _ref;\n  const [words, setWords] = useState([]);\n  const [currInput, setCurrInput] = useState([]);\n  const [currWord, setCurrWord] = useState(0);\n  const [currIndex, setCurrIndex] = useState(-1);\n  useEffect(() => {\n    setWords(generateWords());\n  }, [numWords]);\n  function generateWords() {\n    return new Array(numWords).fill(null).map(() => generate());\n  }\n  let keyCode = 0;\n  const handleKeyDown = event => {\n    keyCode = event.keyCode;\n    if (keyCode === 32) {\n      setCurrInput([]);\n      setCurrWord(prevState => prevState + 1);\n      setCurrIndex(-1);\n    } else if (keyCode === 8) {\n      if (currInput.length > 0) {\n        setCurrInput(currInput => currInput.slice(0, -1));\n        setCurrIndex(index => index >= 0 ? index - 1 : -1);\n      }\n    } else if (keyCode >= 65 && keyCode <= 90) {\n      let chrCode = keyCode - 48 * Math.floor(keyCode / 48);\n      let chr = String.fromCharCode(96 <= keyCode ? chrCode : keyCode);\n      setCurrInput(Input => [...Input, chr.toLowerCase()]);\n      setCurrIndex(Index => Index + 1);\n    }\n  };\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n  function injectExtraWords() {\n    let wordsCopy = [...words];\n    let currWordCopy = wordsCopy[currWord];\n    if (currWordCopy) {\n      let currChunk = currWordCopy.slice(0, currIndex + 1);\n      let remaining = currWordCopy.slice(currIndex + 1);\n      wordsCopy[currWord] = currChunk;\n      wordsCopy.splice(currWord + 1, 0, remaining);\n    }\n    return wordsCopy;\n  }\n  function checkMatch(char) {\n    if (currIndex >= words[currWord].length) {\n      return 'redundant';\n    }\n    if (words[currWord][currIndex] === char) {\n      return 'correct';\n    } else {\n      return 'incorrect';\n    }\n  }\n  function changeColor() {\n    let element = document.getElementById(`${currWord}-${currIndex}`);\n    if (element) {\n      element.className = `word-${checkMatch(currInput[currIndex])}`;\n    }\n  }\n  useEffect(() => {\n    changeColor();\n  }, [currInput]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"typing--section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prompt\",\n        children: injectExtraWords().map((word, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n          id: `${i}`,\n          children: [word.split('').map((char, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n            id: `${i}-${idx}`,\n            className: idx <= currIndex ? `word-${checkMatch(char)}` : 'word-unrendered',\n            onKeyDown: handleKeyDown,\n            children: char\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Current Input: \", currInput.join('')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n_s(Typing, \"gAT2a6nIy34iAGQ085c2x5B74O0=\");\n_c = Typing;\nvar _c;\n$RefreshReg$(_c, \"Typing\");","map":{"version":3,"names":["React","useState","useEffect","generate","jsxDEV","_jsxDEV","Typing","_ref","_s","numWords","words","setWords","currInput","setCurrInput","currWord","setCurrWord","currIndex","setCurrIndex","generateWords","Array","fill","map","keyCode","handleKeyDown","event","prevState","length","slice","index","chrCode","Math","floor","chr","String","fromCharCode","Input","toLowerCase","Index","window","addEventListener","removeEventListener","injectExtraWords","wordsCopy","currWordCopy","currChunk","remaining","splice","checkMatch","char","changeColor","element","document","getElementById","className","children","word","i","id","split","idx","onKeyDown","fileName","_jsxFileName","lineNumber","columnNumber","join","_c","$RefreshReg$"],"sources":["C:/Users/tung0/OneDrive/Documents/typing-speed-app/src/components/body/Typing.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { generate } from 'random-words';\r\n\r\nexport default function Typing({ numWords }) {\r\n  const [words, setWords] = useState([]);\r\n  const [currInput, setCurrInput] = useState([]);\r\n  const [currWord, setCurrWord] = useState(0);\r\n  const [currIndex, setCurrIndex] = useState(-1);\r\n\r\n  useEffect(() => {\r\n    setWords(generateWords());\r\n  }, [numWords]);\r\n\r\n  function generateWords() {\r\n    return new Array(numWords).fill(null).map(() => generate());\r\n  }\r\n\r\n  let keyCode = 0;\r\n\r\n  const handleKeyDown = (event) => {\r\n    keyCode = event.keyCode;\r\n    if (keyCode === 32) {\r\n      setCurrInput([]);\r\n      setCurrWord((prevState) => prevState + 1);\r\n      setCurrIndex(-1);\r\n    } else if (keyCode === 8) {\r\n      if (currInput.length > 0) {\r\n        setCurrInput((currInput) => currInput.slice(0, -1));\r\n        setCurrIndex((index) => (index >= 0 ? index - 1 : -1));\r\n      }\r\n    } else if (keyCode >= 65 && keyCode <= 90) {\r\n      let chrCode = keyCode - 48 * Math.floor(keyCode / 48);\r\n      let chr = String.fromCharCode(96 <= keyCode ? chrCode : keyCode);\r\n      setCurrInput((Input) => [...Input, chr.toLowerCase()]);\r\n      setCurrIndex((Index) => Index + 1);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, []);\r\n\r\n  function injectExtraWords() {\r\n    let wordsCopy = [...words];\r\n    let currWordCopy = wordsCopy[currWord];\r\n    if (currWordCopy) {\r\n      let currChunk = currWordCopy.slice(0, currIndex + 1);\r\n      let remaining = currWordCopy.slice(currIndex + 1);\r\n      wordsCopy[currWord] = currChunk;\r\n      wordsCopy.splice(currWord + 1, 0, remaining);\r\n    }\r\n    return wordsCopy;\r\n  }\r\n  \r\n\r\n  function checkMatch(char) {\r\n    if (currIndex >= words[currWord].length) {\r\n      return 'redundant';\r\n    }\r\n\r\n    if (words[currWord][currIndex] === char) {\r\n      return 'correct';\r\n    } else {\r\n      return 'incorrect';\r\n    }\r\n  }\r\n\r\n  function changeColor() {\r\n    let element = document.getElementById(`${currWord}-${currIndex}`);\r\n    if (element) {\r\n      element.className = `word-${checkMatch(currInput[currIndex])}`;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    changeColor();\r\n  }, [currInput]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"typing--section\">\r\n        <div className=\"prompt\">\r\n          {injectExtraWords().map((word, i) => (\r\n            <span key={i} id={`${i}`}>\r\n              {word.split('').map((char, idx) => (\r\n                <span\r\n                  key={idx}\r\n                  id={`${i}-${idx}`}\r\n                  className={idx <= currIndex ? `word-${checkMatch(char)}` : 'word-unrendered'}\r\n                  onKeyDown={handleKeyDown}\r\n                >\r\n                  {char}\r\n                </span>\r\n              ))}\r\n              <span> </span>\r\n            </span>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <p>Current Input: {currInput.join('')}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}